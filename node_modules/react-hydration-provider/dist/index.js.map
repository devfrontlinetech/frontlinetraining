{"version":3,"sources":["../src/createHydration.tsx","../src/createHydrationProvider.tsx","../src/useComponentHydrated.tsx","../src/createComponents.tsx","../src/index.ts"],"sourcesContent":["import React from \"react\";\nimport createHydrationProvider from \"./createHydrationProvider.js\";\nimport createComponents from \"./createComponents.js\";\nimport type { HydrationComponents } from \"./createComponents.js\";\nexport { useComponentHydrated } from \"./useComponentHydrated.js\";\n\nexport default function createHydration() {\n\tconst HydrationContext: React.Context<boolean> = React.createContext(false);\n\n\tconst HydrationProvider = createHydrationProvider(HydrationContext);\n\n\tconst useHydrated = (): boolean => {\n\t\treturn React.useContext(HydrationContext);\n\t};\n\n\tconst { Server, Client }: HydrationComponents = createComponents(useHydrated);\n\n\treturn {\n\t\tHydrationContext,\n\t\tHydrationProvider,\n\t\tuseHydrated,\n\t\tServer,\n\t\tClient,\n\t};\n}\n","import React from \"react\";\nimport { useComponentHydrated } from \"./useComponentHydrated.js\";\n\nexport default function createHydrationProvider(\n\tHydrationContext: React.Context<boolean>\n) {\n\treturn function HydrationProvider({ children }: React.PropsWithChildren) {\n\t\tconst hydrated = useComponentHydrated();\n\t\treturn (\n\t\t\t<HydrationContext.Provider value={hydrated}>\n\t\t\t\t{children}\n\t\t\t</HydrationContext.Provider>\n\t\t);\n\t};\n}\n","import React from \"react\";\n\nexport function useComponentHydrated() {\n\t// Once useEffect() has been called, we know the app has been hydrated.\n\tconst [hydrated, setHydrated] = React.useState(false);\n\tReact.useEffect(() => {\n\t\tsetHydrated(true);\n\t}, []);\n\n\treturn hydrated;\n}\n","import React from \"react\";\n\nexport type HydrationComponentFunction = (\n\tprops: React.PropsWithChildren\n) => JSX.Element | null;\n\nexport interface HydrationComponents {\n\tServer: HydrationComponentFunction;\n\tClient: HydrationComponentFunction;\n}\n\nexport default function createComponents(\n\tuseHydrated: Function\n): HydrationComponents {\n\tconst Server: HydrationComponentFunction = ({ children }) => {\n\t\tconst hydrated = useHydrated();\n\t\treturn !hydrated ? <>{children}</> : null;\n\t};\n\tconst Client: HydrationComponentFunction = ({ children }) => {\n\t\tconst hydrated = useHydrated();\n\t\treturn hydrated ? <>{children}</> : null;\n\t};\n\n\treturn {\n\t\tServer,\n\t\tClient,\n\t};\n}\n","\"use client\";\nimport createHydration, { useComponentHydrated } from \"./createHydration.js\";\n\nconst { HydrationContext, HydrationProvider, useHydrated, Server, Client } =\n\tcreateHydration();\n\nexport {\n\tHydrationContext,\n\tHydrationProvider,\n\tuseHydrated,\n\tServer,\n\tClient,\n\tcreateHydration,\n\tuseComponentHydrated,\n};\n"],"mappings":";;;AAAA,OAAOA,YAAW;;;ACAlB,OAAOC,YAAW;;;ACAlB,OAAO,WAAW;AAEX,SAAS,uBAAuB;AAEtC,QAAM,CAAC,UAAU,WAAW,IAAI,MAAM,SAAS,KAAK;AACpD,QAAM,UAAU,MAAM;AACrB,gBAAY,IAAI;AAAA,EACjB,GAAG,CAAC,CAAC;AAEL,SAAO;AACR;;;ADPe,SAAR,wBACNC,mBACC;AACD,SAAO,SAASC,mBAAkB,EAAE,SAAS,GAA4B;AACxE,UAAM,WAAW,qBAAqB;AACtC,WACC,gBAAAC,OAAA,cAACF,kBAAiB,UAAjB,EAA0B,OAAO,YAChC,QACF;AAAA,EAEF;AACD;;;AEdA,OAAOG,YAAW;AAWH,SAAR,iBACNC,cACsB;AACtB,QAAMC,UAAqC,CAAC,EAAE,SAAS,MAAM;AAC5D,UAAM,WAAWD,aAAY;AAC7B,WAAO,CAAC,WAAW,gBAAAD,OAAA,cAAAA,OAAA,gBAAG,QAAS,IAAM;AAAA,EACtC;AACA,QAAMG,UAAqC,CAAC,EAAE,SAAS,MAAM;AAC5D,UAAM,WAAWF,aAAY;AAC7B,WAAO,WAAW,gBAAAD,OAAA,cAAAA,OAAA,gBAAG,QAAS,IAAM;AAAA,EACrC;AAEA,SAAO;AAAA,IACN,QAAAE;AAAA,IACA,QAAAC;AAAA,EACD;AACD;;;AHrBe,SAAR,kBAAmC;AACzC,QAAMC,oBAA2CC,OAAM,cAAc,KAAK;AAE1E,QAAMC,qBAAoB,wBAAwBF,iBAAgB;AAElE,QAAMG,eAAc,MAAe;AAClC,WAAOF,OAAM,WAAWD,iBAAgB;AAAA,EACzC;AAEA,QAAM,EAAE,QAAAI,SAAQ,QAAAC,QAAO,IAAyB,iBAAiBF,YAAW;AAE5E,SAAO;AAAA,IACN,kBAAAH;AAAA,IACA,mBAAAE;AAAA,IACA,aAAAC;AAAA,IACA,QAAAC;AAAA,IACA,QAAAC;AAAA,EACD;AACD;;;AIrBA,IAAM,EAAE,kBAAkB,mBAAmB,aAAa,QAAQ,OAAO,IACxE,gBAAgB;","names":["React","React","HydrationContext","HydrationProvider","React","React","useHydrated","Server","Client","HydrationContext","React","HydrationProvider","useHydrated","Server","Client"]}